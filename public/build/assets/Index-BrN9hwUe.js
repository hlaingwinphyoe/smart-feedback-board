import{r as i,f as c,j as e,a as p}from"./app-1BK9I392.js";import{D as d,M as f,S as g}from"./SecondaryButton-BkFvFGZa.js";import{P as y}from"./Pagination-D2vQQ_v2.js";import{T as v}from"./TextInput-CrPzxDVB.js";import{A as N}from"./AuthenticatedLayout-nSRoApt7.js";import"./transition-CqcZOmFB.js";import"./ApplicationLogo-DJ02nk_0.js";function A({feedbacks:s}){const[x,o]=i.useState(!1),[r,h]=i.useState("");i.useEffect(()=>{const t=setTimeout(()=>{r!==""?c.get(route("feedbacks.index"),{search:r},{preserveState:!0}):r===""&&route().params.search&&c.get(route("feedbacks.index"),{},{preserveState:!0})},500);return()=>clearTimeout(t)},[r]);const m=()=>{o(!0)},u=t=>{t.preventDefault(),destroy(route("feedbacks.destroy"),{preserveScroll:!0,onSuccess:()=>l(),onError:()=>passwordInput.current.focus(),onFinish:()=>reset()})},l=()=>{o(!1),clearErrors(),reset()},j=(t,n)=>{t.preventDefault();try{c.delete(route("feedbacks.destroy",n)),l()}catch(a){console.error(a)}};return e.jsxs(N,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Feedback List"}),children:[e.jsx(p,{title:"Feedback List"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsx(v,{type:"text",placeholder:"Search feedbacks...",value:r,onChange:t=>h(t.target.value)})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"text-black",children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"By"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:s.data.length>0?s.data.map((t,n)=>e.jsxs("tr",{children:[e.jsx("th",{children:n+1}),e.jsx("td",{children:t.title}),e.jsx("td",{children:t.description.length>20?t.description.substring(20,70)+"...":t.description}),e.jsx("td",{children:t.user_name}),e.jsx("td",{children:t.created_at}),e.jsxs("td",{children:[e.jsx(d,{onClick:m,children:"Delete"}),e.jsx(f,{show:x,onClose:l,children:e.jsxs("form",{onSubmit:u,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Are you sure you want to delete feedback?"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Once feedback is deleted, it is permanently delete feedback."}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(g,{onClick:l,children:"Cancel"}),e.jsx(d,{onClick:a=>j(a,t.id),className:"ms-3",children:"Delete"})]})]})})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-4",children:"No feedbacks found"})})})]})}),e.jsx(y,{links:s.links,preserveScroll:!0,preserveState:!0}),e.jsxs("div",{className:"text-sm text-gray-500 mt-4 text-center",children:["Showing ",s.from||0," to"," ",s.to||0," of ",s.total," results"]})]})})})})]})}export{A as default};
