import{r as i,f as c,j as e,a as p}from"./app-1BK9I392.js";import{D as o,M as f,S as y}from"./SecondaryButton-BkFvFGZa.js";import{P as g}from"./Pagination-D2vQQ_v2.js";import{T as v}from"./TextInput-CrPzxDVB.js";import{A as N}from"./AuthenticatedLayout-nSRoApt7.js";import"./transition-CqcZOmFB.js";import"./ApplicationLogo-DJ02nk_0.js";function E({users:s}){const[x,d]=i.useState(!1),[r,h]=i.useState("");i.useEffect(()=>{const t=setTimeout(()=>{r!==""?c.get(route("users.index"),{search:r},{preserveState:!0}):r===""&&route().params.search&&c.get(route("users.index"),{},{preserveState:!0})},500);return()=>clearTimeout(t)},[r]);const m=()=>{d(!0)},u=t=>{t.preventDefault(),destroy(route("users.destroy"),{preserveScroll:!0,onSuccess:()=>a(),onError:()=>passwordInput.current.focus(),onFinish:()=>reset()})},a=()=>{d(!1),clearErrors(),reset()},j=(t,l)=>{t.preventDefault();try{c.delete(route("users.destroy",l)),a()}catch(n){console.error(n)}};return e.jsxs(N,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"User List"}),children:[e.jsx(p,{title:"User List"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsx(v,{type:"text",placeholder:"Search users...",value:r,onChange:t=>h(t.target.value)})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"text-black",children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:s.data.length>0?s.data.map((t,l)=>e.jsxs("tr",{children:[e.jsx("th",{children:l+1}),e.jsx("td",{children:t.name}),e.jsx("td",{children:t.email}),e.jsx("td",{children:t.is_admin?"Admin":"User"}),e.jsx("td",{children:t.created_at}),e.jsxs("td",{children:[!t.is_admin&&e.jsx(o,{onClick:m,children:"Delete"}),e.jsx(f,{show:x,onClose:a,children:e.jsxs("form",{onSubmit:u,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Are you sure you want to delete user?"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Once user is deleted, it is permanently delete user."}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(y,{onClick:a,children:"Cancel"}),e.jsx(o,{onClick:n=>j(n,t.id),className:"ms-3",children:"Delete"})]})]})})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-4",children:"No users found"})})})]})}),e.jsx(g,{links:s.links,preserveScroll:!0,preserveState:!0}),e.jsxs("div",{className:"text-sm text-gray-500 mt-4 text-center",children:["Showing ",s.from||0," to ",s.to||0," of"," ",s.total," results"]})]})})})})]})}export{E as default};
